(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{243:function(e,t,a){e.exports=a(426)},426:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(50),c=a.n(s),i=(a(248),a(136)),l=a(93),o=a(94),h=a(101),u=a(95),m=a(102),g=a(434),p=a(444),d=a(443),f=a(437),E=a(435),S=a(441),v=a(440),b=a(439),P=a(436),y=a(231),k=a(438),C=a(445),w=a(442),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={isExpanded:!1},a.openModal=function(){a.setState({isExpanded:!0})},a.closeModal=function(){return a.setState({isExpanded:!1})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement(k.a,{basic:!0,closeIcon:!0,trigger:n.a.createElement(y.a,{alt:this.props.alt,bordered:!0,href:this.props.url,key:this.props.url,open:this.state.isExpanded,onClose:this.closeModal,rel:"noopener noreferrer",src:this.props.thumbnail,target:"blank",wrapped:!0})},n.a.createElement(k.a.Header,null,this.props.alt),n.a.createElement(k.a.Content,null,n.a.createElement(C.a,null,n.a.createElement(C.a.Column,{width:10},n.a.createElement(y.a,{alt:this.props.alt,href:this.props.url,key:this.props.url,onClick:this.onExpand,rel:"noopener noreferrer",src:this.props.image,target:"blank",wrapped:!0,size:"large"})),n.a.createElement(C.a.Column,{width:6},n.a.createElement(w.a,{as:"a",href:this.props.url,onClick:this.closeModal,target:"blank",rel:"noopener noreferrer",inverted:!0},"Visit Page"),n.a.createElement(w.a,{as:"a",href:this.props.thumbnail,onClick:this.closeModal,target:"blank",rel:"noopener noreferrer",inverted:!0},"View Image")))))}}]),t}(r.Component),j=a(138),O=a.n(j),T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={activePage:1,inputError:!1,isFetching:!1,isLoading:!0,numPages:"",recentSearches:[],resultsReturned:!1,safeSearch:!1,searchResults:[],suggestedSearches:"",searchTerm:""},a.getSearchHistory=function(){O.a.get("/api/history").then(function(e){if(!(e.data.length<1))return a.setState({recentSearches:e.data.reverse(),isLoading:!1});a.getSearchHistory()}).catch(function(e){return console.log(e)})},a.handleChange=function(e,t){var r,n=t.name,s=t.value;a.setState((r={},Object(i.a)(r,n,s),Object(i.a)(r,"inputError",!1),r))},a.handleSubmit=function(){if(""!==a.state.searchTerm){a.state.searchTerm!==a.state.lastSearch&&a.setState({activePage:1}),a.setState({isFetching:!0,searchResults:[]});var e=a.state.safeSearch?"moderate":"off";O.a.get("/api/search/"+a.state.searchTerm+"?offset="+a.state.activePage+"&safeSearch="+e).then(function(e){return a.setState({isFetching:!1,searchResults:e.data.searchResults,numPages:e.data.pages,lastSearch:a.state.searchTerm,resultsReturned:!0})}).catch(function(e){return console.log(e)}),a.getSearchHistory()}else a.setState({inputError:!0})},a.paginate=function(e,t){var r=t.activePage;a.setState({activePage:r},function(){return a.handleSubmit()})},a.searchRecent=function(e){a.setState({searchTerm:e.target.name},function(){return a.handleSubmit()})},a.toggle=function(){a.setState({safeSearch:!a.state.safeSearch})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.getSearchHistory()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{minHeight:"100vh",minWidth:"100vw",padding:"2rem"}},n.a.createElement(g.a,null,n.a.createElement(p.a,{as:"h1",color:"orange",textAlign:"center",style:{fontFamily:"Righteous, cursive",fontSize:"5rem"}},"CZ PicSearch"),n.a.createElement(d.a,{vertical:!0},n.a.createElement(f.a,{onSubmit:this.handleSubmit},n.a.createElement(f.a.Field,{width:16},n.a.createElement(f.a.Input,{fluid:!0,name:"searchTerm",error:this.state.inputError,onChange:this.handleChange,placeholder:"Search for an image...",width:16,value:this.state.searchTerm})),n.a.createElement(f.a.Group,{inline:!0,width:16},n.a.createElement(f.a.Button,{fluid:!0,color:"orange",onClick:this.handleSubmit},"Search"),n.a.createElement(E.a,{checked:this.state.safeSearch,label:"Use SafeSearch",onChange:this.toggle}))),this.state.inputError&&n.a.createElement(S.a,{error:!0},"Please enter a search term")),this.state.recentSearches.length>0&&n.a.createElement(d.a,{vertical:!0},n.a.createElement(p.a,{size:"mini"},"Last 10 Searches"),n.a.createElement(v.a,{horizontal:!0},this.state.recentSearches.slice(0,10).map(function(t,a){var r=t.search_term;return n.a.createElement(v.a.Item,{as:"a",key:a,name:r,onClick:e.searchRecent,style:{color:"#f2711c"}},t.search_term)})))),n.a.createElement(g.a,null,this.state.resultsReturned&&n.a.createElement(d.a,{vertical:!0},n.a.createElement(b.a,{activePage:this.state.activePage,firstPage:null,lastPage:null,onPageChange:this.paginate,totalPages:this.state.numPages})),n.a.createElement(P.a,{active:this.state.isFetching}),n.a.createElement(d.a,{vertical:!0},this.state.searchResults.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a.Group,{size:"small"},this.state.searchResults.map(function(e){return n.a.createElement(R,{alt:e.alt,image:e.image,thumbnail:e.thumbnail,url:e.url})})))),this.state.resultsReturned&&n.a.createElement(d.a,{vertical:!0},n.a.createElement(b.a,{activePage:this.state.activePage,firstItem:null,lastItem:null,onPageChange:this.paginate,totalPages:this.state.numPages}))))}}]),t}(r.Component);c.a.render(n.a.createElement(T,null),document.getElementById("root"))}},[[243,1,2]]]);
//# sourceMappingURL=main.a1faab54.chunk.js.map